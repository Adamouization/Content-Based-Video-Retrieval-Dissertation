%% Package to includes to provide additional functionality to the dissertation document
\usepackage{harvard}    	% Uses harvard style referencing
\usepackage{graphicx}   	% Permits import of various graphics formats
\usepackage{multicol}   	% Provides ability to split output into columns
\usepackage{listings}   	% Provides styled code listings
\usepackage{color}          % Set background colours for code listings
\usepackage{float}      	% Suppresses floating for tables and figures when using "H"
\usepackage{etoolbox}   	% enable bibliography to be added to the table of contents
\usepackage{comment}    	% enable block of comments
\usepackage{enumitem}       % resume enumerations
\usepackage{amsmath}        % align equations
\usepackage{breakurl}       % used to break long url links
\usepackage{multirow}       % cell merging in tables
\usepackage{longtable}      % span tables through multiple pages. Note: It may be necessary to compile the document several times to get a multi-page table to line up properly
\usepackage[breaklinks]{hyperref}   % Provides hyperlinks to sections automatically
\usepackage[export]{adjustbox}      % allows figures to be positioned (left-center-right)

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}

%% Set some page size changes from the standard article class
\usepackage[inner=4cm,outer=4cm]{geometry}

%% Format definitions for the style
\bibliographystyle{agsm} %{alpha}
\citationstyle{dcu}
\pagestyle{headings}
\fussy

%% Break long urls with the following characters
\def\UrlBreaks{\do\/\do-\do.\do0}

%% New colours defined for the code listings (https://latexcolor.com/)
\definecolor{backcolour}{gray}{0.9}
\definecolor{palatinateblue}{rgb}{0.15, 0.23, 0.89}
\definecolor{airforceblue}{rgb}{0.36, 0.54, 0.66}
\definecolor{dartmouthgreen}{rgb}{0.05, 0.5, 0.06}
\definecolor{davysgrey}{rgb}{0.33, 0.33, 0.33}
\definecolor{cornellred}{rgb}{0.7, 0.11, 0.11}
\definecolor{deepmagenta}{rgb}{0.8, 0.0, 0.8}

%% Custom listing style for Python code
\lstloadlanguages{Python}
\lstdefinestyle{myPythonStyle}{
  language=Python,
  backgroundcolor=\color{backcolour},   
  commentstyle=\color{airforceblue},
  basicstyle=\footnotesize,
  keywordstyle=[1]\color{dartmouthgreen}\bfseries,  % Python keywords in bold and blue
  keywordstyle=[2]\color{deepmagenta},              % Python functions in magenta
  keywordstyle=[3]\color{blue}\bfseries\underbar,   % User functions bold/underlined and blue
  morekeywords=[1]{self},
  morekeywords=[2]{},
  morekeywords=[3]{generate_and_store_average_greyscale_histogram},
  numberstyle=\tiny\color{davysgrey},
  stringstyle=\color{cornellred}\bfseries,
  showspaces=false,   
  showstringspaces=false,
  showtabs=true,
  numbers=left,  
  captionpos=b,  
  frame=single,
  breakatwhitespace=true,         
  breaklines=true,                 
  keepspaces=true,                 
  numbersep=5pt,                  
  tabsize=4,
  postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space}
}
\lstset{style=myPythonStyle}

%% Definitions to provide layout in the dissertation title pages
\newenvironment{spaced}[1]
  {\begin{minipage}[c]{\textwidth}\vspace{#1}}
  {\end{minipage}}
\newenvironment{centrespaced}[2]
  {\begin{center}\begin{minipage}[c]{#1}\vspace{#2}}
  {\end{minipage}\end{center}}

%% Copyright page
\newcommand{\declaration}[2]{
  \thispagestyle{empty}
  \begin{spaced}{4em}
    \begin{center}
      \LARGE\textbf{#1}
    \end{center}
  \end{spaced}
  \begin{spaced}{3em}
    \begin{center}
      Submitted by: #2
    \end{center}
  \end{spaced}
  \begin{spaced}{5em}
    \section*{COPYRIGHT}

    Attention is drawn to the fact that copyright of this dissertation rests
    with its author. The Intellectual Property Rights of the products
    produced as part of the project belong to the author unless otherwise specified
    below, in accordance with the University of Bath's policy on intellectual property 
   (see \url{http://www.bath.ac.uk/ordinances/22.pdf}).

    This copy of the dissertation has been supplied on condition that anyone
    who consults it is understood to recognise that its copyright rests with its
    author and that no quotation from the dissertation and no information
    derived from it may be published without the prior written consent of
    the author.

    \section*{Declaration}
    This dissertation is submitted to the University of Bath in accordance
    with the requirements of the degree of Bachelor of Science in the
    Department of Computer Science. No portion of the work in this dissertation
    has been submitted in support of an application for any other degree
    or qualification of this or any other university or institution of learning.
    Except where specifically acknowledged, it is the work of the author.
  \end{spaced}

  \begin{spaced}{5em}
    Signed:
  \end{spaced}
  }


\newcommand{\consultation}[1]{%
\thispagestyle{empty}
\begin{centrespaced}{0.8\textwidth}{0.4\textheight}
\ifnum #1 = 0
This dissertation may be made available for consultation within the
University Library and may be photocopied or lent to other libraries
for the purposes of consultation.
\else
This dissertation may not be consulted, photocopied or lent to other
libraries without the permission of the author for #1 
\ifnum #1 = 1
year
\else
years
\fi
from the date of submission of the dissertation.
\fi
\vspace{4em}

Signed:
\end{centrespaced}
}